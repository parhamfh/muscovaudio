#N canvas 62 29 1267 514 10;
#X declare -lib mrpeach;
#X obj -65 277 import mrpeach;
#X obj -66 -16 unpackOSC;
#X obj -67 9 routeOSC /muscovaudio;
#X obj -67 91 routeOSC /x /y /leftbutton /rightbutton;
#X msg 192 172 \; pd dsp 0;
#X msg 122 172 \; pd dsp 1;
#X obj -10 166 s y_coordinate;
#X obj -66 -41 udpreceive 9001;
#X obj -67 189 s x_coordinate;
#N canvas 527 58 481 265 drawing_feedback 0;
#X obj -153 12 bng 15 250 50 0 empty empty empty 17 7 0 10 -4032 -1
-1;
#X floatatom -194 29 5 0 0 0 - - -;
#X obj -195 -34 r y_coordinate;
#X obj 62 -5 r x_coordinate;
#X floatatom 62 50 5 0 0 0 - - -;
#X obj 62 22 maxlib/scale 0 470 0 90;
#X obj -194 61 makenote 100 2000;
#X text -156 29 PITCH GENERATED BY DRAWN LINE;
#X obj -194 -84 cnv 15 300 30 empty empty DRAW_LINE_SOUND_FEEDBACK
20 12 0 14 -4032 -66577 0;
#X obj -194 101 noteout 1;
#X obj 62 76 pgmout 1;
#X text 99 49 MIDI INSTRUMENT;
#X obj -195 -10 maxlib/scale 0 630 10 127;
#X connect 0 0 1 0;
#X connect 1 0 6 0;
#X connect 2 0 12 0;
#X connect 3 0 5 0;
#X connect 4 0 10 0;
#X connect 5 0 4 0;
#X connect 6 0 9 0;
#X connect 6 1 9 1;
#X connect 12 0 1 0;
#X restore -65 304 pd drawing_feedback;
#X obj -67 58 routeOSC /mouse /start /stop /soundhandler;
#X obj 569 -25 s ball_collision;
#X obj 694 -32 bng 15 250 50 0 ball_collision empty ball_collision
17 7 0 10 -4034 -1 -1;
#N canvas 69 31 480 396 drum_loop 0;
#X obj -72 98 soundfiler;
#X floatatom -72 122 0 0 0 0 - - -;
#N canvas 0 22 450 300 (subpatch) 0;
#X array array1 88200 float 2;
#X coords 0 1 88200 -1 200 140 1;
#X restore 130 129 graph;
#X obj -70 288 *~;
#X obj -70 240 tabplay~ array1;
#X obj -70 312 dac~;
#X obj -72 48 bng 15 250 50 0 empty empty empty 17 7 0 10 -4160 -1
-262144;
#X msg -72 74 read -resize drumloop.wav array1;
#X obj 21 295 tabplay~ array1;
#X obj 22 274 r triggerloop;
#X obj -69 164 bng 15 250 50 0 empty startdrum empty 17 7 0 10 -159808
-1 -1;
#X obj -69 186 s triggerloop;
#X obj -70 215 r triggerloop;
#X obj 108 318 s triggerloop;
#X obj -72 27 loadbang;
#X msg -44 272 0.6;
#X connect 0 0 1 0;
#X connect 3 0 5 0;
#X connect 4 0 3 1;
#X connect 4 0 3 0;
#X connect 6 0 7 0;
#X connect 6 0 10 0;
#X connect 7 0 0 0;
#X connect 8 0 5 1;
#X connect 8 1 13 0;
#X connect 9 0 8 0;
#X connect 10 0 11 0;
#X connect 12 0 4 0;
#X connect 12 0 15 0;
#X connect 14 0 6 0;
#X connect 15 0 3 1;
#X restore -64 330 pd drum_loop;
#X obj 563 -48 routeOSC /collision;
#X msg 544 66 \$1;
#X floatatom 544 95 5 0 0 0 x_coordinate_for_ball_collision - -;
#X msg 579 66 \$2;
#X floatatom 785 95 5 0 0 0 y_coordinate_for_ball_collision - -;
#X obj 564 9 unpack s;
#X obj 563 37 symbol2list;
#X obj 564 -88 cnv 15 300 30 empty empty BALL_COLLISION_SOUND 20 12
0 14 -4034 -66577 0;
#X obj -65 -85 cnv 15 300 30 empty empty DRAW_LINE_SOUND_FEEDBACK 20
12 0 14 -4032 -66577 0;
#X text 244 -88 RECEIVES MESSAGE FROM PYTHON FOR LIVE FEEDBACK;
#X text 244 -73 GENERATES MIDI NOTES FROM DRAWN LINES;
#X text 870 -73 GENERATES SOUND WHEN BALL COLLIDES;
#X obj -67 238 cnv 15 300 30 empty empty SUBPATCHES_AND_IMPORTS 20
12 0 14 -4160 -262144 0;
#N canvas 427 357 661 275 ball_collision_sound 0;
#X obj -33 21 bng 15 250 50 0 empty ball_collision empty 17 7 0 10
-4034 -1 -1;
#X floatatom -127 37 5 0 0 0 - - -;
#X obj -128 101 noteout 2;
#X obj -127 61 makenote 100 2000;
#X text -132 -61 RECEIVES Y COORDINATE FROM BALL COLLISION;
#X text 303 79 MIDI NOTE INSTRUMENT;
#X floatatom 266 78 5 0 0 0 - - -;
#X obj 266 50 maxlib/scale 0 470 0 90;
#X obj 266 104 pgmout 2;
#X text -84 38 PITCH GENERATED BY COLLISION Y COORDINATE;
#X obj -131 -103 cnv 15 300 30 empty empty BALL_COLLISION_SOUND 20
12 0 14 -4034 -66577 0;
#X obj -127 -34 r collision_pitch;
#X obj 266 23 r collision_instrument;
#X obj -127 5 maxlib/scale 0 630 1 127;
#X connect 0 0 1 0;
#X connect 1 0 3 0;
#X connect 3 0 2 0;
#X connect 3 1 2 1;
#X connect 6 0 8 0;
#X connect 7 0 6 0;
#X connect 11 0 13 0;
#X connect 12 0 7 0;
#X connect 13 0 1 0;
#X restore 63 303 pd ball_collision_sound;
#X text 870 -88 RECEIVES MESSAGE FROM PYTHON;
#X obj 786 121 s collision_pitch;
#X obj 544 121 s collision_instrument;
#X obj 122 152 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 192 153 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X text 140 151 DRUM ON;
#X text 211 152 DRUM OFF;
#X obj 569 183 cnv 15 300 30 empty empty LINE_BALL_COLLISION 20 12
0 14 -159808 -262144 0;
#X text 727 229 receives line length \, line derivative;
#X obj 575 231 routeOSC /linecollision;
#N canvas 0 22 609 605 line_collision_soumd 0;
#X msg 93 122 0;
#X obj 72 188 counter;
#X floatatom 72 222 5 0 0 0 - - -;
#X floatatom 72 277 5 0 0 0 - - -;
#X obj 116 339 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 96 339 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 77 339 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 155 338 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 135 338 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X floatatom 122 123 5 0 0 0 - - -;
#X text 201 482 DURATION OF TONE;
#X floatatom 203 464 5 0 0 0 - - -;
#X floatatom 55 398 5 0 0 3 - - -;
#X floatatom 100 397 5 0 0 3 - - -;
#X floatatom 145 397 5 0 0 3 - - -;
#X floatatom 183 397 5 0 0 3 - - -;
#X obj 72 307 sel 0 1 2 3 4 5;
#X floatatom 272 193 5 0 0 0 - - -;
#X obj 76 522 noteout 4;
#X obj 270 215 pgmout 4;
#X obj -17 6 cnv 15 300 30 empty empty LINE_BALL_COLLISION 20 12 0
14 -159808 -262144 0;
#X msg 357 96 13;
#X msg 358 124 33;
#X msg 358 155 47;
#X msg 358 180 80;
#X obj 400 180 bng 15 250 50 0 empty instr_4 instrument_4 17 7 0 10
-204786 -1 -1;
#X obj 400 155 bng 15 250 50 0 empty instr_3 instrument_3 17 7 0 10
-204800 -1 -1;
#X obj 399 124 bng 15 250 50 0 empty instr_2 instrument_2 17 7 0 10
-203904 -1 -1;
#X obj 399 96 bng 15 250 50 0 empty instr_1 instrument_1 17 7 0 10
-232576 -1 -1;
#X msg 58 373 65;
#X msg 101 372 58;
#X msg 146 374 49;
#X msg 183 373 65;
#X text 397 73 BANG INSTRUMENT;
#X obj 183 337 bng 15 250 50 0 stop_arpeggio empty stops_arpeggio 17
7 0 10 -257985 -1 -1;
#X obj 72 246 % 7;
#X obj 122 90 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 70 479 makenote 127 500;
#X obj 91 91 bng 15 250 50 0 empty stop_arpeggio empty 17 7 0 10 -257985
-1 -1;
#X obj 69 75 bng 15 250 50 0 empty start_arpeggio empty 17 7 0 10 -159808
-1 -1;
#X obj 71 146 metro 100;
#X obj 498 110 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 498 88 loadbang;
#X connect 0 0 40 0;
#X connect 1 0 2 0;
#X connect 2 0 35 0;
#X connect 3 0 16 0;
#X connect 4 0 31 0;
#X connect 6 0 29 0;
#X connect 6 0 30 0;
#X connect 7 0 30 0;
#X connect 8 0 32 0;
#X connect 9 0 40 1;
#X connect 11 0 37 2;
#X connect 12 0 37 0;
#X connect 13 0 37 0;
#X connect 14 0 37 0;
#X connect 15 0 37 0;
#X connect 16 1 6 0;
#X connect 16 2 5 0;
#X connect 16 3 4 0;
#X connect 16 4 8 0;
#X connect 16 5 7 0;
#X connect 16 6 34 0;
#X connect 17 0 19 0;
#X connect 21 0 17 0;
#X connect 22 0 17 0;
#X connect 23 0 17 0;
#X connect 24 0 17 0;
#X connect 25 0 24 0;
#X connect 26 0 23 0;
#X connect 27 0 22 0;
#X connect 28 0 21 0;
#X connect 29 0 12 0;
#X connect 30 0 13 0;
#X connect 31 0 14 0;
#X connect 32 0 15 0;
#X connect 35 0 3 0;
#X connect 36 0 9 0;
#X connect 37 0 18 0;
#X connect 37 1 18 1;
#X connect 38 0 0 0;
#X connect 39 0 1 2;
#X connect 39 0 40 0;
#X connect 40 0 1 0;
#X connect 41 0 27 0;
#X connect 42 0 41 0;
#X restore 64 327 pd line_collision_soumd;
#X text 574 327 BANG ARPEGGIO;
#X obj 576 344 bng 15 250 50 0 start_arpeggio empty empty 17 7 0 10
-159808 -1 -1;
#X text 697 285 BANG INSTRUMENT;
#X obj 700 370 bng 15 250 50 0 instr_4 empty instrument_4 17 7 0 10
-204786 -1 -1;
#X obj 701 349 bng 15 250 50 0 instr_3 empty instrument_3 17 7 0 10
-204800 -1 -1;
#X obj 700 329 bng 15 250 50 0 instr_2 empty instrument_2 17 7 0 10
-203904 -1 -1;
#X obj 699 310 bng 15 250 50 0 instr_1 empty instrument_1 17 7 0 10
-232576 -1 -1;
#X obj 575 267 print LINECOLLIDE;
#X obj 575 296 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X connect 1 0 2 0;
#X connect 2 0 10 0;
#X connect 3 0 8 0;
#X connect 3 1 6 0;
#X connect 7 0 1 0;
#X connect 10 0 3 0;
#X connect 10 1 31 0;
#X connect 10 2 32 0;
#X connect 10 3 14 0;
#X connect 10 3 37 0;
#X connect 14 0 11 0;
#X connect 14 0 12 0;
#X connect 14 0 19 0;
#X connect 15 0 16 0;
#X connect 16 0 30 0;
#X connect 17 0 18 0;
#X connect 18 0 29 0;
#X connect 19 0 20 0;
#X connect 20 0 15 0;
#X connect 20 0 17 0;
#X connect 31 0 5 0;
#X connect 32 0 4 0;
#X connect 37 0 46 0;
#X connect 37 0 47 0;
#X connect 47 0 40 0;
